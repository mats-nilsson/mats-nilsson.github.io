<!DOCTYPE html>
<html>
  <head>
    <title>test memory</title>
    <div>
      <textarea id="log" rows="5" cols="200"></textarea>
    </div>
  </head>
  <body>
    <script type="text/javascript">
      let wasmMemory;
      try {
        wasmMemory = new WebAssembly.Memory({
          initial: (134217728 * 5) / 65536,
          maximum: (134217728 * 5) / 65536,
        });
        document.getElementById("log").value += "allocate successfully" + "\n";
        setTimeout(function () {
          location.reload();
        }, 1000); // 5000 milliseconds = 5 seconds
      } catch (error) {
        document.getElementById("log").value += "allocate failed" + "\n";
      }
    </script>
  </body>
</html>
